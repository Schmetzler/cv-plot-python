name: Build Package

on:
  push:
    branches:
      - master
  pull_request:
    branches:
      - master

jobs:
  build_sdist_and_wheel:
    name: Build Distribution
    runs-on: ubuntu-latest

    steps:
    - name: 📥 Checkout Repository
      # Checks out your repository under $GITHUB_WORKSPACE
      uses: actions/checkout@v4

    - name: 🐍 Set up Python
      # Use the latest stable Python version for building
      uses: actions/setup-python@v5
      with:
        python-version: '3.x' 

    - name: ⚙️ Install Build Dependencies
      # Install the 'build' package, which acts as the build frontend
      run: |
        python -m pip install --upgrade pip
        pip install build

    - name: 📦 Build Package Distributions
      # This command finds your pyproject.toml and creates the 
      # .tar.gz (sdist) and .whl (wheel) files in the 'dist/' directory
      run: python -m build
      
    - name: 💾 Store Build Artifacts
      # Upload the distribution files for later use (e.g., publishing or testing)
      uses: actions/upload-artifact@v4
      with:
        name: python-package-distributions
        path: dist/

